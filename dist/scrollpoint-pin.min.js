/*!
 * angular-ui-scrollpoint-pin
 * https://github.com/TechNaturally/ui-scrollpoint-pin
 * Version: 1.1.0 - 2015-12-23T05:08:37.581Z
 * License: MIT
 */
!function(){"use strict";angular.module("ui.scrollpoint.pin",["ui.scrollpoint"]).directive("uiScrollpointPin",[function(){return{restrict:"A",require:"uiScrollpoint",link:function(t,e,o,i){function s(){if(n){var t=e,o=i.hasTarget?0:i.getScrollOffset();t.css("left",r.x+"px"),t.css("top",o-r.y+"px")}}var n,r={},l={},f=!1;i.addAction(function(t,e,o){if(t>=0&&!n){if(r.x=e[0].offsetLeft,r.y=i.getScrollOffset()-e[0].offsetTop-t*("bottom"==o?-1:1),n=e.clone(),n.addClass("placeholder"),n.css("visibility","hidden"),e.after(n),f=i.hasTarget&&i.$target!=e.parent()){var a=e[0].getBoundingClientRect(),c=i.$target[0].getBoundingClientRect();r.x=a.left,r.y=-i.$target[0].offsetTop-(a.top-c.top+t),"bottom"==o&&(r.y=-i.$target[0].offsetTop-i.$target[0].offsetHeight+e[0].offsetHeight-(a.bottom-c.bottom-t)),i.$target.append(e)}l.position=e[0].style.position,l.top=e[0].style.top,l.left=e[0].style.left,e.addClass("pinned"),e.css("position","absolute"),i.$target.on("scroll",s),s()}else if(0>t&&n){i.$target.off("scroll",s),e.removeClass("pinned");for(var p in l)e.css(p,l[p]);f&&n.after(e),n.remove(),n=void 0,i.cachePosition()}})}}}])}();