/*!
 * angular-ui-scrollpoint-pin
 * https://github.com/TechNaturally/ui-scrollpoint-pin
 * Version: 1.1.1 - 2015-12-23T06:29:59.630Z
 * License: MIT
 */
!function(){"use strict";angular.module("ui.scrollpoint.pin",["ui.scrollpoint"]).directive("uiScrollpointPin",[function(){return{restrict:"A",require:"uiScrollpoint",link:function(t,o,e,i){function n(){if(l){var t=o,e=i.hasTarget?0:i.getScrollOffset();t.css("left",f.x+"px"),t.css("top",e-f.y+"px")}}function s(t,e){if(!l){var s=o;if(f.x=s[0].offsetLeft,f.y=i.getScrollOffset()-s[0].offsetTop-e*("bottom"==t?-1:1),l=s.clone(),l.addClass("placeholder"),l.css("visibility","hidden"),s.after(l),c=i.hasTarget&&i.$target!=s.parent()){var r=s[0].getBoundingClientRect(),p=i.$target[0].getBoundingClientRect();f.x=r.left,f.y=-i.$target[0].offsetTop-(r.top-p.top+e),"bottom"==t&&(f.y=-i.$target[0].offsetTop-i.$target[0].offsetHeight+s[0].offsetHeight-(r.bottom-p.bottom-e)),i.$target.append(s)}a.position=s[0].style.position,a.top=s[0].style.top,a.left=s[0].style.left,s.addClass("pinned"),s.css("position","absolute"),i.$target.on("scroll",n),n()}}function r(){if(l){var t=o;i.$target.off("scroll",n),t.removeClass("pinned");for(var e in a)t.css(e,a[e]);c&&l.after(t),l.remove(),l=void 0,i.cachePosition()}}var l,f={},a={},c=!1;e.$observe("uiScrollpointEnabled",function(o){o=t.$eval(o),o||r()}),i.addAction(function(t,o,e){t>=0&&!l?s(e,t):0>t&&l&&r()})}}}])}();